<section class="content">
    <div class="content-block">
        <div class="block-header" *ngFor="let breadscrum of breadscrums">
            <!-- breadcrumb -->
            <app-breadcrumb [title]="breadscrum.title" [items]="breadscrum.items" [active_item]="breadscrum.active">
            </app-breadcrumb>
        </div>
        <div class="row clearfix">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="card">
                    <div class="header">
                        <!-- <h2>Create Course</h2> -->

                    </div>
                    <form [formGroup]="userTypeFormGroup">
                        <div class="body m-4">
                            <div class="row">
                                <!-- <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                    <label>Enter User Type <span class="mandatory">&nbsp;*</span></label>
                                    <mat-form-field class="example-full-width mb-3" appearance="outline">

                                        <mat-select formControlName="typeName">
                                            <mat-option value="USD">System Administrators</mat-option>
                                            <mat-option value="SGD">Training Administrators</mat-option>
                                            <mat-option value="NZD">Learners</mat-option>
                                            <mat-option value="YEN">Supervisors</mat-option>
                                            <mat-option value="GBP">Head of Department</mat-option>
                                            <mat-option value="GBP">Training Coordinators</mat-option>
                                            <mat-option value="GBP">Instructors</mat-option>
                                            <mat-option value="GBP">Course Managers</mat-option>
                                          </mat-select>
                                        <mat-error *ngIf="userTypeFormGroup.get('typeName')?.hasError('required')">
                                            Enter User Type
                                        </mat-error>
                                    </mat-form-field>
                                </div> -->
                                
                                <!-- <div class="col align-items-center mt-5 ">
                                    <mat-checkbox class="example-margin" (click)="create()" formControlName="isAdmin" checked>Admin</mat-checkbox>
                                </div> -->
                            </div>
                            <div class="row">
                                <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 mb-2">
                                    <label>User Type</label>
                                    <mat-form-field class="example-full-width mb-3" appearance="outline">
                                        <!-- <mat-label>Course Name</mat-label> -->
                                        <input matInput type="text" id="name" formControlName="typeName"
                                        class="form-control" placeholder="Enter User Type"
                                        required>                                      
                                          <mat-error *ngIf="userTypeFormGroup.get('typeName')?.hasError('required')">
                                            Enter User Type
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <!-- <div class="col-md-6">
                                    <div class="d-grid gap-3 d-md-flex">
                                    <button mat-raised-button type="button" class="btn sub" (click)="addUserTypeField()"><img src="/assets/Close.svg" alt="plus">Add User Type</button>
                                    <button mat-button  id="create" > Create </button>
                                    </div>
                                  </div> -->
                                <!-- <div class="col-xl-4 col-lg-3 col-md-12 col-sm-12 mb-2">
                                <button class="btn sub" >
                                    <img src="/assets/Close.svg" alt="plus">
                                    Add User Type</button>
                                </div>
                                <div class="col-xl-3 col-lg-6 col-md-12 col-sm-12 mb-2 ">
                                    <button mat-button type="submit" id="submit" class="btn crt-color">Create</button>
                                </div> -->
                            </div>
                        </div>
                    </form>
                    <hr>
                    <!-- <div *ngIf="userTypeFormGroup.get('isAdmin')?.value"> -->

                        <!-- <h3 class="m-5">Select User Type Menu </h3>  -->
                        <div class="row ms-5">
                            <div class="col fs-5 fw-semibold">Menu</div>
                            <div class="col fs-5 fw-semibold">Sub Menu</div>
                            <div class="col fs-5 fw-semibold">Options</div>
                        </div>
                        <div class="row border-bottom p-4" *ngFor="let menu of dataSource.data">
                            <div class="col-md ">
                                <mat-checkbox class="example-margin mt-1" [(ngModel)]="menu.checked"
                                    (change)="changeMenuChecked(menu.checked, menu?.id)"
                                    [indeterminate]="menu.indeterminate">
                                    <h6 style="padding-top: 10px;font-weight: bolder;">{{menu?.title}}</h6>
                                </mat-checkbox>

                            </div>

                            <div class="col-md">
                                <div *ngFor="let submenu of menu.children" class="sub-menu">
                                    <mat-checkbox class="example-margin" [(ngModel)]="submenu.checked"
                                        (change)="changeMenuChecked(submenu.checked, submenu.id)"
                                        [indeterminate]="submenu.indeterminate">
                                        <p class="menu">{{submenu?.title}}</p>
                                    </mat-checkbox>

                                </div>
                            </div>
                            <div class="col-md mt-1">
                                <div class="d-flex " *ngFor="let submenu of menu.children">
                                    <div *ngFor="let action of submenu.children" class="">
                                        <mat-checkbox class="example-margin mt-1" [(ngModel)]="action.checked"
                                            (change)="changeMenuChecked(action.checked, action.id)"
                                            [indeterminate]="action.indeterminate">
                                            <p class="menu"> {{action.title|titlecase}}</p>
                                        </mat-checkbox>

                                    </div>
                                </div>
                            </div>
                        </div>
                    <!-- </div> -->
                    <div class="d-flex justify-content-between m-5">
                        <button class="btn px-4" id="cancel" [routerLink]="['/admin/users/user-type']">Cancel</button>

                        <button class="btn border px-4" id="submit" (click)="onSubmitForm()">{{isEdit? 'Update'
                            :'Create'}}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>